
<html>
<head>
    <meta charset="utf-8"/>
</head>
<body>
<h1>   Memo  </h1>
<span style="color:green; font-size:10pt" id="ball"> ● online </span>
<select size="1" onchange="s1Change()" style="width:100px; font-size:20px" name="font_size" id="selectbox">
    <option value="10">10</option>
    <option value="12">12</option>
    <option value="14">14</option>
    <option value="16">16</option>
    <option value="18">18</option>
</select>
<title> Memo </title>
<script>
    function s1Change(){
        if( document.getElementById("selectbox").value == "10" ) {
            document.getElementById("inputMessage").setAttribute('style','font-size:10pt');
        }
        else if( document.getElementById("selectbox").value == "12" ) {
            document.getElementById("inputMessage").setAttribute('style','font-size:12pt');
        }
        else if( document.getElementById("selectbox").value == "14" ) {
            document.getElementById("inputMessage").setAttribute('style','font-size:14pt');
        }
        else if( document.getElementById("selectbox").value == "16" ) {
            document.getElementById("inputMessage").setAttribute('style','font-size:16pt');
        }
        else if( document.getElementById("selectbox").value == "18" ) {
            document.getElementById("inputMessage").setAttribute('style','font-size:18pt');
        }
    }
 
    var log = function(s) {
        console.log(s);
        if (document.readyState !== "complete") {
            log.buffer.push(s);
        } else {
            document.getElementById("output").innerHTML += (s + "\n")
        }
    }
    log.buffer = [];
 
    url = "ws://35.197.100.99:8080";
    w = new WebSocket(url);

    w.onopen = function() {
        document.getElementById("ball").setAttribute('style','color:green; font-size:10pt');
        document.getElementById("ball").innerHTML = ' ● online';

    }

    w.onmessage = function(e) {
        document.getElementById("inputMessage").value = e.data;
    }
 
    w.onclose = function(e) {
        document.getElementById("ball").setAttribute('style','color:red; font-size:10pt');
        document.getElementById("ball").innerHTML = ' ● offline';
    }
 
    window.onload = function() {
        log(log.buffer.join("\n"));
        document.getElementById("inputMessage").onkeyup = function() {
                value = document.getElementById("inputMessage").value
                w.send(value);
        }
    }
</script>
<textarea style="" rows="500" cols="500" id="inputMessage"></textarea>
<pre id="output"></pre>
</body>
</html>
